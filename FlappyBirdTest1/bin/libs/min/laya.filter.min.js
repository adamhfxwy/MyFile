!function(t){t.un,t.uns,t.static;var e=t.class,i=t.getset,r=(t.__newvec,laya.utils.Browser,laya.utils.Color),a=laya.filters.ColorFilterAction,s=laya.filters.webgl.ColorFilterActionGL,n=laya.filters.Filter,l=laya.filters.webgl.FilterActionGL,o=laya.maths.Matrix,u=(laya.maths.Rectangle,laya.renders.Render),c=(laya.renders.RenderContext,laya.webgl.resource.RenderTarget2D),h=laya.utils.RunDriver,_=(laya.webgl.shader.d2.ShaderDefines2D,laya.display.Sprite,laya.resource.Texture,laya.webgl.shader.d2.value.Value2D),d=(e(g,"laya.filters.FilterAction"),F=g.prototype,t.imps(F,{"laya.filters.IFilterAction":!0}),F.apply=function(t){return null},g);function g(){this.data=null}e(y,"laya.filters.WebGLFilter"),y.enable=function(){y.isInit||(y.isInit=!0,u.isWebGL&&(h.createFilterAction=function(t){var e;switch(t){case 32:e=new s;break;case 16:e=new b;break;case 8:e=new v}return e}))},y.isInit=!1,y.__init$=function(){h.createFilterAction=function(t){var e;switch(t){case 16:case 8:e=new d;break;case 32:e=new a}return e}};var f=y;function y(){}e(p,"laya.filters.BlurFilter",n),(F=p.prototype).callNative=function(t){t.conchModel&&t.conchModel.blurFilter&&t.conchModel.blurFilter(this.strength)},i(0,F,"action",function(){return this._action}),i(0,F,"type",function(){return 16});function p(t){this.strength=NaN,this.strength_sig2_2sig2_gauss1=[],p.__super.call(this),void 0===t&&(t=4),u.isWebGL&&f.enable(),this.strength=t,this._action=h.createFilterAction(16),this._action.data=this}e(w,"laya.filters.GlowFilter",n),(F=w.prototype).getColor=function(){return this._color._color},F.callNative=function(t){t.conchModel&&t.conchModel.glowFilter&&t.conchModel.glowFilter(this._color.strColor,this._elements[4],this._elements[5],this._elements[6])},i(0,F,"type",function(){return 8}),i(0,F,"action",function(){return this._action}),i(0,F,"offY",function(){return this._elements[6]},function(t){this._elements[6]=t}),i(0,F,"offX",function(){return this._elements[5]},function(t){this._elements[5]=t}),i(0,F,"blur",function(){return this._elements[4]},function(t){this._elements[4]=t});function w(t,e,i,a){this._color=null,w.__super.call(this),this._elements=new Float32Array(9),void 0===e&&(e=4),void 0===i&&(i=6),void 0===a&&(a=6),u.isWebGL&&f.enable(),this._color=new r(t),this.blur=Math.min(e,20),this.offX=i,this.offY=a,this._action=h.createFilterAction(8),this._action.data=this}e(x,"laya.filters.webgl.BlurFilterActionGL",l),(n=x.prototype).setValueMix=function(t){t.defines.add(this.data.type)},n.apply3d=function(t,e,i,a,r){var s=t.getValue("bounds"),n=_.create(1,0);n.setFilters([this.data]),o.EMPTY.identity(),i.ctx.drawTarget(t,0,0,s.width,s.height,o.EMPTY,"src",n),n.setFilters(null)},n.setValue=function(t){t.strength=this.data.strength;var e=this.data.strength/3,e=e*e;this.data.strength_sig2_2sig2_gauss1[0]=this.data.strength,this.data.strength_sig2_2sig2_gauss1[1]=e,this.data.strength_sig2_2sig2_gauss1[2]=2*e,this.data.strength_sig2_2sig2_gauss1[3]=1/(2*Math.PI*e),t.strength_sig2_2sig2_gauss1=this.data.strength_sig2_2sig2_gauss1},i(0,n,"typeMix",function(){return 16});var b=x;function x(){this.data=null,x.__super.call(this)}e(m,"laya.filters.webgl.GlowFilterActionGL",l),F=m.prototype,t.imps(F,{"laya.filters.IFilterActionGL":!0}),F.setValueMix=function(t){},F.apply3d=function(t,e,i,a,r){var s=t.getValue("bounds"),n=(t.addValue("color",this.data.getColor()),s.width),s=s.height,n=(this._textureWidth=n,this._textureHeight=s,o.TEMP);return n.identity(),(s=_.create(1,0)).setFilters([this.data]),i.ctx.drawTarget(t,0,0,this._textureWidth,this._textureHeight,n,"src",s,null),s=_.create(1,0),i.ctx.drawTarget(t,0,0,this._textureWidth,this._textureHeight,n,"src",s),null},F.setSpriteWH=function(t){this._textureWidth=t.width,this._textureHeight=t.height},F.setValue=function(t){t.u_offsetX=this.data.offX,t.u_offsetY=-this.data.offY,t.u_strength=1,t.u_blurX=this.data.blur,t.u_blurY=this.data.blur,t.u_textW=this._textureWidth,t.u_textH=this._textureHeight,t.u_color=this.data.getColor()},i(0,F,"typeMix",function(){return 8}),m.tmpTarget=function(t,e,i,a,r){var s=t.getValue("bounds"),s=(t.getValue("out").end(),c.create(s.width,s.height)),n=(s.start(),t.getValue("color"));n&&s.clear(n[0],n[1],n[2],0),t.addValue("tmpTarget",s)},m.startOut=function(t,e,i,a,r){t.getValue("tmpTarget").end();var s=t.getValue("out"),t=(s.start(),t.getValue("color"));t&&s.clear(t[0],t[1],t[2],0)},m.recycleTarget=function(t,e,i,a,r){t.getValue("src");t.getValue("tmpTarget").recycle()};var F,v=m;function m(){this.data=null,this._initKey=!1,this._textureWidth=0,this._textureHeight=0,m.__super.call(this)}t.__init([f])}((window,document,Laya)),"function"==typeof define&&define.amd&&define("laya.core",["require","exports"],function(t,e){"use strict";for(var i in Object.defineProperty(e,"__esModule",{value:!0}),Laya){var a=Laya[i];a&&a.__isclass&&(e[i]=a)}});