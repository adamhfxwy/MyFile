(()=>{"use strict";var e={666:e=>{var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,i){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new o(r,a||e,i),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function i(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,a=r.length,i=new Array(a);o<a;o++)i[o]=r[o].fn;return i},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,o,a,i){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,o),!0;case 5:return u.fn.call(u.context,t,r,o,a),!0;case 6:return u.fn.call(u.context,t,r,o,a,i),!0}for(c=1,l=new Array(h-1);c<h;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var f,d=u.length;for(c=0;c<d;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),h){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,o);break;default:if(!l)for(f=1,l=new Array(h-1);f<h;f++)l[f-1]=arguments[f];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,o){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return i(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||o&&!s.once||r&&s.context!==r||i(this,a);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||o&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:i(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&i(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},1730:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(666);const o=new(n.n(r)())}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(1730);function t(e){var t=e;return t&&(t=function(e){return e.replace(/(^\s*)|(\s*$)/g,"")}(e)),t&&(t=function(e){var t={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'};return e.replace(/&(lt|gt|nbsp|amp|quot);/gi,(function(e,n){return t[n]}))}(t)),t&&(t=function(e){return'"'==e.charAt(0)&&"/"==e.charAt(1)&&(e=location.protocol+"//"+location.host+e.substring(1,e.length)),'"'==e.charAt(e.length-1)?e.substring(0,e.length-1):e}(t)),t}function r(e){var t="";let n=e;try{n=e.split("?")[0]}catch(e){}return n.match(/^(http|https):.+(\.txt|\.zip|\.pdf|\.rar|\.xlsx|\.xls|\.doc|\.docx|\.epub|\.pptx|\.ppt)$/g)?t="doc":(n.match(/^(http|https):.+(\.m3u8|\.mp4|\.mov|\.mpv|\.m4v|\.g3p|\.g32|\.avi|\.asf|\.wmv|\.avs|\.flv|\.mkv|\.mpg|\.mpeg|\.dat|\.ogm|\.vob|\.rm|\.ts|\.tp|\.ifo|\.nsv|\.m2ts|\.3gp|\.f4v|\.rmvb)$/g)||[]).length>0?t="video":n.endsWith(".torrent")||n.match(/^(thunder|flashget|qqdl|magnet|ed2k):\/\//g)||n.match(/^magnet:\?/)?t="seed":(n.startsWith("https://pan.quark.cn/s/")||n.startsWith("http://quark-cloud-drive-web-serverside.ude.alibaba.net/s/"))&&(t="cloud"),t}function o(e){var t=void 0;try{var n=new URL(e);if(n&&n.searchParams&&n.searchParams.values())for(var r of n.searchParams.values()){var o=decodeURI(r);if(o&&(o.startsWith("https://pan.quark.cn/s/")||o.startsWith("http://quark-cloud-drive-web-serverside.ude.alibaba.net/s/"))){t=o;break}}}catch(e){}return t}function a(e,t,n,r,o){return{url:e,page_url:t,title:n,brief:r,type:o}}function i(e,t,n){return a(e,"",t,"",n)}function s(e,t,n){return{title:e,type:t,items:n}}function l(e){if(e){var t=e.toString().match(/[0-9]+P.+\?/g);if(t&&t.length>=1)return t[0].replace("?","")}return""}function c(e,n,r,o){var i=r;try{i=o.quality}catch(e){}var s=i+"_"+n;e.push(function(e,t,n,r){return a(e,"",t,n,"video")}(t(o.videoUrl),s,i))}function u(e,t){(function(e,t){for(var n=0;n<e.length;n++)if(e[n].url==t.url)return!0;return!1})(e,t)||e.push(t)}function h(e){var t="",n=e.getElementsByClassName("section_title");return n.length>0&&(t=n[0].innerText),t}function f(e){var n;try{e?n=function(){var e=new Array,n=document.getElementsByClassName("video_player")[0];if(n){var r=n.getElementsByTagName("video");if(r&&r.length>0){var o=r[0],a=n.getElementsByClassName("title"),s=a&&a.length>0?a[0]:null;if(o){var l=s?s.innerText:"",c=t(o.src);e.push(i(c,l,"video"))}}}return e}():window.location.host.indexOf("pornhub")>=0&&(n=function(){var e=new Array,t=void 0;for(var n in window)if(n.startsWith("flashvars_")){t=window[n];break}if(null!=t&&t&&t.mediaDefinitions){for(var r=t.mediaDefinitions,o=function(){var e="";try{e=document.getElementsByClassName("inlineFree")[0].innerText}catch(e){}return e||(e=document.title),e}(),a=0,i=r.length;a<i;++a){var s=r[a],l=s.videoUrl;if(l&&l.length>0)if(s.remote){var u=new XMLHttpRequest;u.open("GET",l,!1),u.send(null);for(var h=JSON.parse(u.responseText),f=0;f<h.length;++f)h[f].videoUrl&&h[f].videoUrl.length>0&&c(e,o,10*a+f,h[f])}else c(e,o,a,s)}return e}}())}catch(e){}return n}const d=function(){var e=Date.now(),n=!0,c=!1,d=!1,v=new Array;try{document.head.querySelector("[name~=5E4A9BB58FF18388B43D0A62C554D30C][content]").content&&(n=!1)}catch(e){}if(n)try{document.getElementById("uc_custom_app")&&(c=document.getElementsByClassName("intro").length>0,d=document.getElementsByClassName("video_player").length>0);var p,g=!0;if(c){try{p=function(){var e,n=new Array,r=function(){var e=document.title,t=document.getElementsByClassName("posterRight");if(t.length>0){var n=t[0].getElementsByClassName("title");n.length>0&&(e=n[0].innerText)}return e}(),o=(e=r,new RegExp("[\\u4E00-\\u9FFF]+","g").test(e)?8:16);r&&r.titleMaxLen&&(r=r.substring(0,o));var i=document.getElementsByClassName("play_list_section");if(i&&i.length>0){for(var l=!1,c=0,u=0;u<i.length&&!l;u++)if(!((p=h(v=i[u])).indexOf("下载")>=0)){var f=void 0;(g=v.getElementsByClassName("section_list"))&&g.length>0&&(f=g[0]),f&&f.childElementCount>3&&(l=(c+=1)>=2)}var d=new Array;for(u=0;u<i.length;u++){var v,p,g;if(!((p=h(v=i[u])).indexOf("下载")>=0)&&(f=void 0,(g=v.getElementsByClassName("section_list"))&&g.length>0&&(f=g[0]),f&&f.childElementCount>0)){l&&(d=new Array);for(var m=0;m<f.childElementCount;m++){var y=f.children[m].getElementsByTagName("a");if(y&&y.length>0&&y[0].href&&y[0].innerText.indexOf("下载")<0){var w=l?y[0].innerText:y[0].innerText+"_"+p,x=y[0].innerText+"_"+r+"|"+p,_=t(y[0].href);d.push(a(null,_,x,w,"video_page"))}}l&&d.length>0&&n.push(s(p,"video_page",d))}}!l&&d.length>0&&n.push(s(p,"video_page",d))}return n}()}catch(e){}p&&p.length>0&&(v.push(...p),g=!1)}g&&(p=function(e){var n=new Array,a=f(e);if(a&&a.length>0)n.push(s("视频","video",a));else{var c=function(e){var n,a=new Array;return e||(n=function(){var e=new Array,t=document.body.getElementsByTagName("video");if(t&&t.length>0)for(var n=0;n<t.length;n++){var r=t[n];r.src&&r.src!=window.location.href&&(r.duration&&r.videoWidth&&0!==r.videoWidth?e.push({...i(r.src,r.innerText,"video"),video_knowledge:{duration:r.duration,width:r.videoWidth,height:r.videoHeight}}):e.push({...i(r.src,r.innerText,"video"),videoItem:r}))}return e}()).length>0&&a.push(...n),(n=function(){var e=new Array;try{var n=document.body.getElementsByTagName("a");if(null!=n)for(var a=0;a<n.length;a++){var s=n[a].href;if(s){var l=r(s=t(s));if(l)e.push(i(s,n[a].innerText,l));else{var c=o(s);c&&e.push(i(c,n[a].innerText,"cloud"))}}}}catch(e){}return e}()).length>0&&a.push(...n),(n=function(e,t){var n=new Array;try{if(t&&t.length>0){var r=new RegExp('((((http|https)://[^":<>#?&=\\s\\r\\n]+\\.torrent\\b(?![&.-]))(\\??([-a-zA-Z0-9@:;%_\\+,.~#?&//=]*)))|(((http|https)://[^":<>#?&=\\s\\r\\n]+\\.(m3u8|mov|mp4|mpv|m4v|g3p|g32|avi|asf|wmv|avs|flv|mkv|mpg|mpeg|dat|ogm|vob|rm|ts|tp|ifo|nsv|m2ts|3gp|f4v|rmvb|txt|zip|pdf|rar|xlsx|xls|doc|docx|epub|pptx|ppt)\\b(?![&.-]))(\\??([-a-zA-Z0-9@:;%_\\+,.~#?&//=]*)))|((?<=[">\\s\\r\\n])((magnet:[^"<>\\s\\r\\n]*xt(\\.[0-9]+)*=urn:((sha1)|(md5)|(btih)|(tree:tiger)|(bitprint)|(ed2k)|(aich)|(kzhash)|(crc32)):[0-9a-zA-Z]{10,}[^"<>\\s\\r\\n]*)|(ed2k://((\\|)|(%7[cC]))file((\\|)|(%7[cC]))[^"<>\\s\\r\\n]+((\\|)|(%7[cC]))[0-9]+((\\|)|(%7[cC]))[0-9a-zA-Z]+((\\|)|(%7[cC]))[^"<>\\s\\r\\n)]*/)|(ftp://[^"<>\\s\\r\\n]+)|((([Tt]hunder)|(qqdl)|([Ff]lashget))://([a-zA-Z0-9\\+/])+={0,2}))(?=["<\\r\\n])))',"gi"),o=t.match(r);if(o&&o.length>0)for(var a=0;a<o.length;a++){var s=o[a];s&&n.push(i(s,l(s),""))}}}catch(e){}return n}(0,(document.head?document.head.innerHTML:"")+(document.body?document.body.innerHTML:""))).length>0&&a.push(...n),a}(e);if(c&&c.length>0){for(var h=new Array,d=new Array,v=new Array,p=new Array,g=new Array,m=0;m<c.length;m++){var y=c[m];if(y.url=t(y.url),y.url&&!y.type&&(y.type=r(y.url),!y.type)){var w=o(y.url);w&&(y.url=w,y.type="cloud")}"video"==y.type?u(d,y):"doc"==y.type?u(v,y):"seed"==y.type?u(p,y):"cloud"==y.type?u(h,y):u(g,y)}h.length>0&&n.push(s("网盘分享","cloud",h)),d.length>0&&n.push(s("视频","video",d)),v.length>0&&n.push(s("文档","doc",v)),p.length>0&&n.push(s("种子","seed",p)),g.length>0&&n.push(s("其他","",g))}}return n}(d))&&p.length>0&&v.push(...p)}catch(e){}return{sniffer_key:"#SNIFFER_KEY#",cost_time:Date.now()-e,title:function(){for(var e="",t=["title","title-text","title style-scope ytd-video-primary-info-renderer","fed-play-text fed-visible fed-font-xvi fed-part-eone"],n=0;n<t.length;n++){try{var r=t[n];1==document.body.getElementsByClassName(r).length&&(e=document.body.getElementsByClassName(r)[0].lastElementChild.innerText)}catch(e){}if(e&&0!=e.length&&!((e.match(/[,]/g)||[]).length>=2))break}if(!e||0==e.length)try{e=document.head.getElementsByTagName("meta").keywords.content}catch(e){}return e&&(e.length>30||(e.match(/[,]/g)||[]).length>2)&&(e=""),e||(e=document.title),e}(),result:v,page_url:location.origin+location.pathname,host:location.host}};try{window.addEventListener("load",(()=>v())),e.Z.on("website:enabled",(e=>{e.enabled&&v()}))}catch(e){}async function v(){try{await m(p,2,3e3),await m(g,10,1e3),function(){const t=document.querySelector("video");if(!t)return;e.Z.on("sniff:event",((e,n)=>{try{"pause"===n.op&&t.pause()}catch(e){}}))}()}catch(e){}}function p(){const e=d();return!(!e.result||!e.result.length||(function(e){for(let t=0;t<e.result.length;t++){const n=e.result[t];if("视频"===n.title)for(let t=0;t<n.items?.length;t++){const r=n.items[t];if(r.videoItem){let o=r.videoItem;o.onloadedmetadata=()=>{r.video_knowledge={},r.video_knowledge.duration=o.duration,r.video_knowledge.width=o.videoWidth,r.video_knowledge.height=o.videoHeight,window.top.postMessage({channel:"sniff.sendMetaInfo",data:e},"*"),o=void 0},delete n.items[t].videoItem}}}}(e),window.top.postMessage({channel:"sniff.sendResult",data:e},"*"),0))}function g(){const e=document.querySelector("video");if(!e)return!1;const t=e.getAttribute("autoplay");return(t&&"false"!==t||!1===e.paused)&&window.top.postMessage({channel:"sniff.sendEvent",data:{action:"autoplay",src:e.src,currentTime:w(e)}},"*"),["timeupdate","play","canplay","pause","playing","waiting","stalled","seeked","seeking","error"].forEach((t=>{const n=()=>{"timeupdate"===t&&e.currentTime>0?(e.removeEventListener(t,n),window.top.postMessage({channel:"sniff.sendEvent",data:{action:"playing",src:e.src,currentTime:w(e)}},"*")):window.top.postMessage({channel:"sniff.sendEvent",data:{action:t,src:e.src,currentTime:w(e)}},"*")};e.addEventListener(t,n)})),!0}async function m(e,t,n=1e3){for(;t>0;){if(e())return Promise.resolve();await y(n),t-=1}return Promise.reject()}function y(e){return new Promise((t=>setTimeout(t,e)))}function w(e){const t=e.currentTime;return t?parseFloat(t.toFixed(1)):t}})()})();